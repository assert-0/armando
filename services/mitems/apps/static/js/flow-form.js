(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["flow-form"],{"04c6":function(t,e,a){},1736:function(t,e,a){},5765:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-form"},[a("section-title",[a("template",{slot:"title"},[a("h1",{staticClass:"title is-2"},[t._v(t._s(t.title))])]),a("template",{slot:"actions"},[a("router-link",{staticClass:"button is-secondary mr-1",attrs:{to:t.cancelLink}},[t._v("Cancel")]),a("a",{staticClass:"button is-primary",class:{"is-loading":t.saving},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("Save changes")])],1)],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("panel",[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Title")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.flow.title,expression:"flow.title"}],staticClass:"input",attrs:{type:"text",disabled:!1===t.developerMode,placeholder:"Enter the title of the flow"},domProps:{value:t.flow.title},on:{input:function(e){e.target.composing||t.$set(t.flow,"title",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Description")]),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.flow.description,expression:"flow.description"}],staticClass:"textarea",attrs:{placeholder:"Enter something that describes the flow"},domProps:{value:t.flow.description},on:{input:function(e){e.target.composing||t.$set(t.flow,"description",e.target.value)}}})])])])],1)])],1)},i=[],n=(a("7db0"),a("96cf"),a("1da1")),r=a("5530"),o=a("fa2b"),l=a("9c97"),c=a("365c"),u=a("2f62"),d={components:{SectionTitle:o["a"],Panel:l["a"]},data:function(){return{id:null,flow:{},saving:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(u["c"])(["flows","developerMode"])),{},{value:function(){var t=this;return this.flows.find((function(e){return e.index===t.flow.index})).content},title:function(){return this.id?this.flow?this.flow.title:"Editing a flow":"Adding a flow"},cancelLink:function(){return this.id&&this.flow?"/flows/".concat(this.flow.id):"/"}}),methods:Object(r["a"])({submit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.flow.title){e.next=2;break}return e.abrupt("return");case 2:if(t.saving=!0,!t.id){e.next=8;break}return e.next=6,c["a"].flows.update(t.id,t.flow);case 6:e.next=10;break;case 8:return e.next=10,c["a"].flows.create(t.flow);case 10:t.saving=!1,t.id?t.$router.push("/flows/".concat(t.id)):t.$router.push("/");case 12:case"end":return e.stop()}}),e)})))()}},Object(u["b"])(["startLoading","stopLoading"])),mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.startLoading(),a=t.$route.params.id,t.id=a,!t.id){e.next=16;break}return e.prev=4,e.next=7,c["a"].flows.get(a);case 7:s=e.sent,t.flow=s.flow,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),t.$toast.error(e.t0.message);case 14:e.next=17;break;case 16:t.flow={title:"",description:""};case 17:t.stopLoading();case 18:case"end":return e.stop()}}),e,null,[[4,11]])})))()}},f=d,p=a("2877"),v=Object(p["a"])(f,s,i,!1,null,"20211a2e",null);e["default"]=v.exports},"695e":function(t,e,a){"use strict";var s=a("1736"),i=a.n(s);i.a},9597:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"section"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title is-4"},[t._v("Import by file")]),a("h2",{staticClass:"subtitle"},[t._v(" Here you can upload raw JSON and it will be imported into the database. ")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("File")]),a("div",{staticClass:"control"},[a("div",{staticClass:"file has-name"},[a("label",{staticClass:"file-label"},[a("input",{ref:"file",staticClass:"file-input",attrs:{type:"file"},on:{change:t.selectFile}}),t._m(0),a("span",{staticClass:"file-name"},[t._v(" "+t._s(t.fileName)+" ")])])])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:function(e){return t.importFile()}}},[t._v("Import data")])])])])]),a("div",{staticClass:"section"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title is-4"},[t._v("Raw JSON input")]),a("h2",{staticClass:"subtitle"},[t._v(" Here you can input raw JSON and it will be imported into the database. ")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"jsondata"}},[t._v("JSON data")]),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"textarea",attrs:{id:"jsondata",rows:"10",name:"jsondata",placeholder:"Input json data"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:function(e){return t.importText()}}},[t._v("Import data")])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label"},[t._v(" Choose a fileâ€¦ ")])])}],n=(a("b0c0"),a("96cf"),a("1da1")),r=a("5530"),o=a("365c"),l=a("2f62"),c={name:"ImportData",components:{},data:function(){return{file:null,text:"",selectedFiles:[],fileName:""}},methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["startLoading","stopLoading"])),{},{importFile:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].importData.importFile(t.selectedFiles[0]);case 3:a=e.sent,a.success?t.$toast.info("Data imported"):t.$toast.error("Check your JSON and try again."),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$toast.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},importText:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].importData.importText(t.text);case 3:a=e.sent,a.success?t.$toast.info("Data imported"):t.$toast.error("Check your JSON and try again."),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$toast.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},selectFile:function(){this.selectedFiles=this.$refs.file.files,this.fileName=this.selectedFiles[0].name}}),mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.startLoading(),t.stopLoading();case 2:case"end":return e.stop()}}),e)})))()}},u=c,d=(a("b5dd"),a("2877")),f=Object(d["a"])(u,s,i,!1,null,"5cad21af",null);e["default"]=f.exports},"9c97":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[t._t("default")],2)},i=[],n=(a("695e"),a("2877")),r={},o=Object(n["a"])(r,s,i,!1,null,"c95c0e5a",null);e["a"]=o.exports},b0c0:function(t,e,a){var s=a("83ab"),i=a("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,l="name";s&&!(l in n)&&i(n,l,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},b5dd:function(t,e,a){"use strict";var s=a("04c6"),i=a.n(s);i.a}}]);
//# sourceMappingURL=flow-form.js.map