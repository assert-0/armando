{% extends 'base.html' %}
{% load static %}

{% block title %}Mitems | Import json data{% endblock %}

{% block content %}
    <header class="hero">
        <div class="hero-body">
            <div class="header-title">
              <div class="logo">
                <img src="{% static '/img/aquatic.svg' %}" width="150" height="150">
              </div>
                <div class="content">
                    <h1 class="title">
                        Mitems importing
                    </h1>
                    <h2 class="notification is-warning">Warning: This will import data to the Mitems database.</h2>
                </div>
            </div>
        </div>
    </header>

    <section class="section">
        <div class="container">
            <h1 class="title is-4">Import by file</h1>
            <h2 class="subtitle">
                Here you can upload raw JSON and it will be imported into the database.
            </h2>
            {% if file_error %}
                <div class="notification is-danger">{{ file_error }}</div>
            {% endif %}
            <form action="{% url 'base:import_data' %}" method="post", enctype="multipart/form-data">
                {% csrf_token %}
                <div class="field">
                    <label for="file" class="label">File</label>
                    <div class="control">
                        <div class="file">
                            <label class="file-label">
                                {{ form }}
                                <span class="file-cta">
                                      <span class="file-icon">
                                        <i class="fas fa-upload"></i>
                                      </span>
                                      <span class="file-label">
                                        Choose a fileâ€¦
                                      </span>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <button class="button is-primary" type="submit">Import data</button>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <h1 class="title is-4">Raw JSON input</h1>
            <h2 class="subtitle">
                Here you can input raw JSON and it will be imported into the database.
            </h2>
            {% if text_error %}
                <div class="notification is-danger">{{ text_error }}</div>
            {% endif %}
            <form action="{% url 'base:import_data' %}" method="post">
                {% csrf_token %}
                <div class="field">
                    <label for="jsondata" class="label">JSON data</label>
                    <div class="control">
                <textarea class="textarea" id="jsondata" rows="10" name="jsondata"
                          placeholder="Input json data"></textarea>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <button class="button is-primary" type="submit">Import data</button>
                    </div>
                </div>
            </form>
        </div>
    </section>
{% endblock %}
