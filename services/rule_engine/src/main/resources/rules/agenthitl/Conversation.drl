package rules.protoagent;

import com.mindsmiths.ruleEngine.util.Log;
import com.mindsmiths.telegramAdapter.TelegramReceivedMessage;
import com.mindsmiths.ruleEngine.model.Initialize;
import com.mindsmiths.telegramAdapter.TelegramKeyboardAnswered;

import agents.AgentHitl;
import signals.UserIdSignal;


rule "First AgentHitl contact"
    salience 100
    when
        initialize: Initialize() from entry-point "agent-created"
        agent: AgentHitl()
    then
        agent.sendSurvey();
        delete(initialize);
end

rule "Set AgentHitl user id"
    when
        signal: UserIdSignal() from entry-point "signals"
        agent: AgentHitl()
    then
        agent.setUserId(signal.getUserId());
end
